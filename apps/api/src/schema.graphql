# ------------------------------------------------------
# THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
# ------------------------------------------------------

"""Active UI context role (CLIENT or WORKER)"""
enum ActiveRole {
  CLIENT
  WORKER
}

input AddMultipleSpecialtiesInput {
  specialties: [CreateWorkerSpecialtyInput!]!
}

type AddMultipleWorkerSpecialtiesPayload {
  categoryId: String
  error: String
  specialties: [WorkerSpecialtyType!]!
  success: Boolean!
}

type AuditResponse {
  approved: Boolean!
  confidence: Float!
  observations: [String!]
}

type AuthResponse {
  accessToken: String!
  user: UserInfo!
}

input BecomeWorkerInput {
  bio: String
  category: String
  name: String!
  selfieImage: String
  termsAccepted: Boolean!
  termsVersion: String
  trade: String
}

input CreateJobInput {
  address: String
  clientId: String!
  description: String
  difficulty: Float!
  estimatedHours: Float!
  hasHighWeeds: Boolean
  image: String!
  lat: Float!
  lng: Float!
  scheduledFor: String
  squareMeters: Float!
}

input CreateWorkerSpecialtyInput {
  categoryId: String!
  experienceYears: Int! = 0
  metadata: JSON
}

"""
A date-time string at UTC, such as 2019-12-03T09:54:33Z, compliant with the date-time format.
"""
scalar DateTime

"""Difficulty levels for service estimation"""
enum DifficultyLevel {
  EASY
  EXPERT
  HARD
  MEDIUM
}

input EstimateJobInput {
  complicatedAccess: Boolean
  description: String
  hasHighWeeds: Boolean
  hasSlope: Boolean
  image: String!
  squareMeters: Float!
}

type GenericResponse {
  message: String!
  success: Boolean!
}

type GenericSuccessResponse {
  message: String!
  success: Boolean!
}

"""
The `JSON` scalar type represents JSON values as specified by [ECMA-404](http://www.ecma-international.org/publications/files/ECMA-ST/ECMA-404.pdf).
"""
scalar JSON

type Job {
  address: String
  category: String
  city: String
  createdAt: DateTime
  description: String
  estimatedHours: Float
  evidenceImages: [String!]
  gardenImageAfter: String
  gardenImageBefore: String
  id: ID!
  imageUrl: String
  latitude: Float
  longitude: Float
  price: JSON
  provider: String
  status: String!
  title: String
}

type JobEstimateResponse {
  aiAnalysis: JSON
  difficultyMultiplier: Float!
  estimatedHours: Float
  obstacles: [String!]
  price: JobPrice!
  reasoning: String
}

type JobPrice {
  calculationSnapshot: String
  currency: String!
  platformFee: Float!
  taxes: Float!
  total: Float!
  workerNet: Float!
}

type LegalDocument {
  content: String!
  createdAt: DateTime
  id: String!
  isActive: Boolean!
  role: String
  updatedAt: DateTime
  version: String!
}

input LoginInput {
  email: String!
  password: String!
  role: UserRole!
}

type Mutation {
  acceptLatestTerms(documentId: String!, userId: String!): Boolean!
  addMultipleWorkerSpecialties(input: AddMultipleSpecialtiesInput!): AddMultipleWorkerSpecialtiesPayload!
  addWorkerSpecialty(input: CreateWorkerSpecialtyInput!): WorkerSpecialtyType!
  arriveAtJob(jobId: String!, lat: Float!, lng: Float!, workerId: String!): Boolean!
  becomeWorker(input: BecomeWorkerInput!): UserInfo!
  completeJob(evidenceImages: [String!], imageAfter: String!, jobId: String!): AuditResponse!
  createJob(input: CreateJobInput!): Job!
  createPaymentPreference(amount: Float, serviceRequestId: String!): PaymentPreference!
  deleteNotification(notificationId: String!): MutationResponse!
  estimateServicePrice(input: PriceEstimateInput!): PriceEstimateResult!
  login(input: LoginInput!): AuthResponse!
  markAllNotificationsAsRead: MutationResponse!
  markNotificationAsRead(notificationId: String!): Notification!
  register(input: RegisterInput!): AuthResponse!
  registerDeviceToken(platform: String = "web", token: String!): Boolean!
  removeWorkerSpecialty(specialtyId: String!): GenericSuccessResponse!
  resendVerificationEmail(email: String!): GenericResponse!
  setWorkerStatus(status: String!): WorkerProfile!
  startJob(jobId: String!, pin: String!): Job!
  submitKYC(input: SubmitKYCInput!): WorkerProfile!
  submitReview(input: JSON!): Review!
  switchActiveRole(activeRole: ActiveRole!): UserInfo!
  syncProfessionalServices(input: SyncProfessionalServicesInput!): [Service!]!
  updateWorkerLocation(lat: Float!, lng: Float!): UpdateLocationResponse!
  updateWorkerSpecialty(input: UpdateWorkerSpecialtyInput!): WorkerSpecialtyType!
  updateWorkerStatus(status: String!): UserInfo!
  verifyEmail(token: String!): GenericResponse!
}

type MutationResponse {
  success: Boolean!
}

type Notification {
  createdAt: DateTime!
  data: JSON
  id: String!
  message: String!
  read: Boolean!
  title: String!
  type: String!
  updatedAt: DateTime
  userId: String!
}

type PaymentPreference {
  initPoint: String!
  preferenceId: String!
}

type PriceBreakdown {
  baseCalculation: String!
  difficultyMultiplier: Float!
  extras: [String!]!
}

input PriceEstimateInput {
  difficultyLevel: DifficultyLevel! = MEDIUM
  metadata: JSON!
  subcategory: ServiceSubcategory!
  workerId: String
}

type PriceEstimateResult {
  baseTime: Float!
  breakdown: PriceBreakdown!
  estimatedPrice: Int!
  hourlyRate: Int!
  totalTime: Float!
}

type Query {
  """
  Calculate estimated price for a service based on category and complexity
  """
  calculateServicePrice(categoryId: String!, complexityFactor: Float! = 1): Float!
  estimateJob(input: EstimateJobInput!): JobEstimateResponse!
  getMyServices: [Service!]!
  getMyWorkerSpecialties(includeInactive: Boolean! = false): [WorkerSpecialtyType!]!
  getNotifications(limit: Float): [Notification!]!
  getPublicWorkerProfile(workerId: String!): WorkerProfile
  getServices(category: String, latitude: Float, location: String, longitude: Float, query: String, radiusKm: Int): [Job!]!
  getUnreadCount: UnreadCountResult!
  getWorkerReputation(workerId: String!): ReputationInfo!
  getWorkerSpecialtyById(specialtyId: String!): WorkerSpecialtyType
  healthCheckReputation: String!
  latestTerms(role: String!): LegalDocument!
  me: UserInfo
  nearbyJobs(lat: Float!, limit: Int, lng: Float!, radius: Float): [Job!]!

  """Get all active service categories"""
  serviceCategories: [ServiceCategory!]!
}

input RegisterInput {
  email: String!
  name: String!
  password: String!
  role: UserRole!
  termsAccepted: Boolean
  termsDate: String
  termsVersion: String
  userAgent: String
}

type ReputationInfo {
  currentPlan: String!
  nextMilestone: Int!
  points: Int!
}

type Review {
  comment: String
  id: ID!
  rating: Int!
}

type Service {
  createdAt: DateTime!
  description: String
  experienceYears: Float
  iconName: String!
  id: String!
  isActive: Boolean!
  name: String!
  slug: String!
  status: String!
  updatedAt: DateTime!
}

type ServiceCategory {
  active: Boolean!
  basePrice: Float!
  description: String
  estimatedHours: Float!
  hourlyRate: Float!
  iconName: String!
  id: ID!
  name: String!
  slug: String!
}

input ServiceSelectionInput {
  categoryId: String!
  description: String
  experienceYears: Int!
}

"""Service subcategories for different types of work"""
enum ServiceSubcategory {
  AC_INSTALLATION
  AC_MAINTENANCE
  AC_REPAIR
  CIRCUIT_BREAKER
  DRAIN_CLEANING
  EXTERIOR_PAINTING
  FAUCET_INSTALLATION
  FURNITURE_ASSEMBLY
  GARDEN_CLEANUP
  HEATING_INSTALLATION
  HOUSE_CLEANING
  INTERIOR_PAINTING
  LAWN_MOWING
  LEAK_REPAIR
  LIGHTING_INSTALLATION
  OFFICE_CLEANING
  OUTLET_INSTALLATION
  PIPE_INSTALLATION
  PRESSURE_WASHING
  SMALL_FLETE
  TREE_TRIMMING
  WALL_REPAIR
  WIRING_REPAIR
}

input SubmitKYCInput {
  dniBack: String!
  dniFront: String!
  insuranceDoc: String!
  selfie: String!
}

type Subscription {
  jobUpdated(jobId: String!): Job!
  notificationReceived: Notification!
}

input SyncProfessionalServicesInput {
  services: [ServiceSelectionInput!]!
}

type UnreadCountResult {
  count: Float!
}

type UpdateLocationResponse {
  success: Boolean!
}

input UpdateWorkerSpecialtyInput {
  experienceYears: Int
  id: String!
  metadata: JSON
  status: String
}

type UserInfo {
  activeRole: String!
  avatar: String
  balance: Float
  bio: String
  currentPlan: String
  currentRole: String!
  email: String!
  id: String!
  isEmailVerified: Boolean
  isKycVerified: Boolean
  kycStatus: String
  loyaltyPoints: Int
  mercadopagoAccessToken: String
  mercadopagoCustomerId: String
  mustAcceptTerms: Boolean!
  name: String!
  rating: Float
  role: String!
  roles: [String!]!
  status: String
  totalJobs: Int
  workerStatus: String
}

"""
User roles for authentication and authorization (CLIENT, WORKER, ADMIN)
"""
enum UserRole {
  ADMIN
  CLIENT
  WORKER
}

type WorkerProfile {
  bio: String
  currentPlan: String
  dniBack: String
  dniFront: String
  id: String!
  insuranceDoc: String
  kycStatus: String
  name: String!
  rating: Float
  selfie: String
  specialties: [WorkerSpecialtyType!]
  status: String
  totalJobs: Float
  userId: String!
}

type WorkerSpecialtyType {
  category: ServiceCategory
  categoryId: String!
  createdAt: DateTime!
  experienceYears: Int!
  id: String!
  metadata: JSON
  status: String!
  updatedAt: DateTime!
  workerId: String!
}